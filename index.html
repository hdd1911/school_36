<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	
	<link rel="apple-touch-icon" sizes="180x180" href="img/icons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/icons/favicon-16x16.png">
	<!-- <link rel="manifest" href="img/icons/site.webmanifest"> -->
	<!--
		Chrome error: Access to internal resource at 'img/icons/site.webmanifest'
		from origin 'null' has been blocked by CORS policy: Cross origin requests are
		only supported for protocol schemes: http, data, chrome, chrome-extension,
		chrome-untrusted, https.
	-->
	<link rel="mask-icon" href="img/icons/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="img/icons/favicon.ico">
	<meta name="msapplication-TileColor" content="#ffc40d">
	<meta name="msapplication-config" content="img/icons/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">

	<meta name="viewport" content="width=device-width, minimum-scale=1">

	<title>Школа № 36 - Главная страница</title>
	<link rel="stylesheet" href="style.css">

</head>
<body>
	
	<header>
		<div class="header__container">

			<a href="https://meduza.ml/old" class="text">
				<div class="text__wrapper">
					<p class="text__org-form">Муниципальное автономное общеобразовательное учреждение</p>
					<h1 class="text__org-name">
						Средняя общеобразовательная школа № 36
					</h1>
					<p class="text__org-location">Республика Коми, город Сыктывкар</p>
				</div>
			</a>
			
			<div class="btn__nav">
				<p>НАВИГАЦИЯ</p>
				<div class="hamburger">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>

			<div class="btn__visual">
				<div class="glasses">
					<img src="img/glasses_fafafa.svg">
					<img src="img/glasses_657074.svg" class="glasses__on-top">
				</div>
				<p>Версия для<br>слабовидящих</p>
			</div>

		</div>
	</header>



	<div class="nav-main__container">

	<div class="nav__wrapper">
		<nav is-expanded="false" class="hidden transition-none overflow-hidden display-none">

			<section class="menu">
				<ul>
					<li class="menu__item">
						<a href="#">Сведения об образовательной организации</a>
					</li>
					<li class="menu__item nested">
						<a>События</a>
						<ul class="nested-list">
							<li><a href="#">Этот день Победы!</a></li>
							<li><a href="#">Последний звонок</a></li>
							<li><a href="#">Портфолио классов</a></li>
						</ul>
					</li>
					<li class="menu__item nested">
						<a>Условия обучения</a>
						<ul class="nested-list">
							<li><a href="#">Библиотека</a></li>
							<li><a href="#">Комплексная безопасность</a></li>
							<li><a href="#">Информационная безопасность</a></li>
							<li><a href="#">Охрана труда</a></li>
							<li><a href="#">Будь здоров!</a></li>
							<li><a href="#">Летняя оздоровительная кампания</a></li>
							<li><a href="#">Актированный день</a></li>
						</ul>
					</li>
					<li class="menu__item">
						<a href="#">Школьное питание</a>
					</li>
					<li class="menu__item nested">
						<a>Прием в школу</a>
						<ul class="nested-list">
							<li><a href="#">Прием в 1 класс</a></li>
							<li><a href="#">Прием в 10 класс</a></li>
						</ul>
					</li>
					<li class="menu__item nested">
						<a>Деятельность школы</a>
						<ul class="nested-list">
							<li><a href="#">Противодействие коррупции</a></li>
							<li><a href="#">Независимая оценка качества образования</a></li>
							<li><a href="#">Внеурочная деятельность</a></li>
							<li><a href="#">Все о госуслугах</a></li>
						</ul>
					</li>
					<li class="menu__item nested">
						<a>Начальное образование</a>
						<ul class="nested-list">
							<li><a href="#">Основы религиозных культур и светской этики</a></li>
						</ul>
					</li>
					<li class="menu__item nested">
						<a>Государственная итоговая аттестация</a>
						<ul class="nested-list">
							<li><a href="#">Все для ГИА-9</a></li>
							<li><a href="#">Все для ГИА-11</a></li>
							<li><a href="#">Итоговое сочинение (изложение)</a></li>
							<li><a href="#">ВПР</a></li>
							<li><a href="#">Промежуточная аттестация</a></li>
						</ul>
					</li>
					<li class="menu__item nested">
						<a>Профилактическая работа</a>
						<ul class="nested-list">
							<li><a href="#">Профилактика вирусных заболеваний</a></li>
							<li><a href="#">Школьная служба медиации</a></li>
							<li><a href="#">Профилактика правонарушений</a></li>
							<li><a href="#">Профилактика жестокого обращения</a></li>
							<li><a href="#">Профилактика (чего?)</a></li>
							<li><a href="#">Психолого-педагогическое сопровождение</a></li>
							<li><a href="#">Телефоны доверия</a></li>
						</ul>
					</li>
					<li class="menu__item nested">
						<a>Учащимся</a>
						<ul class="nested-list">
							<li><a href="#">Олимпиады</a></li>
							<li><a href="#">Правовая страничка</a></li>
							<li><a href="#">Патриотическое воспитание</a></li>
							<li><a href="#">Профориентация</a></li>
							<li><a href="#">ШДО</a></li>
							<li><a href="#">Галерея проектов</a></li>
						</ul>
					</li>
					<li class="menu__item">
						<a href="#">Дистанционное обучение</a>
					</li>
					<li class="menu__item nested">
						<a>Электроныне образовательные ресурсы</a>
						<ul class="nested-list">
							<li><a href="#">Сайты учителей</a></li>
							<li><a href="#">Информатика</a></li>
							<li><a href="#">Индивидуальный проект</a></li>
							<li><a href="#">Математика</a></li>
							<li><a href="#">Литература</a></li>
						</ul>
					</li>
					<li class="menu__item">
						<a href="#">ВФСК ГТО</a>
					</li>
					<li class="menu__item">
						<a href="#">Школьный спортивный клуб "Класс"</a>
					</li>
					<li class="menu__item">
						<a href="#">Интернет-приемная</a>
					</li>
					<li class="menu__item nested">
						<a>Педагогам</a>
						<ul class="nested-list">
							<li><a href="#">Наставничество</a></li>
							<li><a href="#">Школьная цифровая платформа "Сберкласс"</a></li>
							<li><a href="#">Конкурсы</a></li>
							<li><a href="#">Электронные ресурсы для учителей</a></li>
						</ul>
					</li>

				</ul>
			</section>

			<section class="references">
				<p>Полезная информация</p>
				<ul>
					<li><a href="#">
						<img src="img/references/act_days.png"></a></li>
					<li class="wide"><a href="#">
						<img src="img/references/admission.png"></a></li>
					<li><a href="#">
						<img src="img/references/vacancies.png"></a></li>
					<li><a href="#">
						<img src="img/references/first_former.png"></a></li>
					<li><a href="#">
						<img src="img/references/calendar.png"></a></li>
					<li class="wide"><a href="#">
						<img src="img/references/stop_corona.png"></a></li>
					<li><a href="#">
						<img src="img/references/minzdrav_komi.png"></a></li>
					<li><a href="#">
						<img src="img/references/minzdrav_rf.png"></a></li>
					<li class="wide"><a href="#">
						<img src="img/references/100_let.png"></a></li>
					<li><a href="#">
						<img src="img/references/school_food.png"></a></li>
					<li class="wide"><a href="#">
						<img src="img/references/gis_eo.png"></a></li>
					<li class="wide"><a href="#">
						<img src="img/references/social_help.png"></a></li>
					<li><a href="#">
						<img src="img/references/world_skills.png"></a></li>
					<li><a href="#">
						<img src="img/references/try_profession.png"></a></li>
					<li><a href="#">
						<img src="img/references/sberclass.png"></a></li>
				</ul>
			</section>
			
		</nav>
	</div>

	<main>

			
		<section class="welcome"> 
			
			<img class="img__background transition-none active" src="img/welcome/0_8df17d_a_fix.jpg">
			<img class="img__background" src="img/welcome/1_8df17d_3_fix.jpg">
			<img class="img__background" src="img/welcome/2_6DYRkYoSo9g_fix.jpg">
			<img class="img__background" src="img/welcome/3_YyXvupQro6s_fix.jpg">
			<img class="img__background" src="img/welcome/4_5RxfyMBZsms_fix.jpg">
			<img class="img__background" src="img/welcome/5_frK9CKmuEls_fix.jpg">
			<img class="img__background" src="img/welcome/6_LoD6UwOHSX4_fix.jpg">
			
			<div class="welcome__fader-unfader__wrapper">
				<div class="welcome__unfader">
					<div class="slider">
						<div class="dash active"></div>
						<!-- New divs adds automatically in an amount equal to background pictures-->
					</div>
				</div>

				<div class="welcome__fader">
					<div class="welcome__fader__background"></div>
					<div class="welcome__fader__content-wrapper">
					<!-- 
						Prevents overlapping the content by 'welcome__fader__background'
						(Got 'position: relative' property)
					-->
						<img class="img__proud" src="img/welcome/proud.png">
						<div class="text__hello">
							<p>Уважаемые посетители!</p>
							<p>Приветствуем Вас на страницах официального информационного сайта МАОУ "СОШ № 36"</p>
						</div>
						<div class="text__in-accordance">
							<p>Сайт разработан в соответствии:</p>
							<p>
								-&#8194со ст. 29 <a href="http://www.consultant.ru/document/cons_doc_LAW_140174/">
									Федерального закона</a> "Об образовании в Российской Федерации" от 29 декабря 2012
									года №&nbsp273-ФЗ;
								</p>
								<p>
									-&#8194с Правилами размещения на официальном сайте образовательной организации в
									информационно-телекоммуникационной сети "Интернет" и обновления информации об образовательной
									организации, утвержденными <a href="http://www.consultant.ru/document/cons_doc_LAW_149242/">
									постановлением</a> Правительства РФ от 10 июля 2013 года №&nbsp582.
								</p>
							</div>
					</div>
				</div>

				</div>

			</section>
			
			<section class="news-block">
				<div class="news">
					<h2>Актированный день!</h2>
					<span class="news-date">22 января 2021</span>
					<p>
						22.01.2021 для учащихся 1-2 классов муниципальных образовательных организаций
						МО ГО «Сыктывкар» объявлен актированным днем в соответствии с приказом управления
						образования администрации МО ГО «Сыктывкар» от 22.01.2021 № 68 «Об объявлении
						актированного дня».
					</p>
				</div>
				<div class="news">
					<h2>Уважаемые родители (законные представители) учащихся 1-4 классов!</h2>
					<span class="news-date">18 января 2021</span>
					<p>
						Просим принять активное участие в анкетировании по организации питания.
						Анкета доступна в разделе сайте "Школьное питание".
					</p>
				</div>
				<div class="news">
					<h2>Уважаемые родители (законные представители), учащиеся!</h2>
					<span class="news-date">14 января 2021</span>
					<p>
						Информация по актированным дням на территории МО ГО "Сыктывкар" размещается только
						в группе Управления образования АМО ГО "Сыктывкар" по ссылке: https://vk.com/syktuo.
					</p>
					<p>
						Управление образования администрации МО ГО "Сыктывкар" не ведет других групп в
						социальной сети "Вконтакте". 
					</p>
					<p>
						Просьба информацию по актировке так же уточнять на официальном сайте управления
						образования http://sykt-uo.ru/ и официальном информационном сайте школы в разделе
						"Актированные дни": https://www.36shkola.ru/актированный-день, а также в официальной
						группе школы в социальной сети "ВКонтакте": https://vk.com/school36syktyvkar.
					</p>
					<p>
						Дополнительную информацию по актированным дням можно получить в специализированном
						разделе официального сайта Управления образования администрации МО ГО "Сыктывкар"
						перейдя по ссылке http://sykt-uo.ru/page-160.html и в ГИС "Электронное образование".
					</p>	
					</p>
						А также на сайте Администрации муниципального образования городского округа
						"Сыктывкар": http://сыктывкар.рф
					</p>
				</div>
			</section>

		</main>
	</div>




	<footer>

		<div class="footer__container">

				<div class="info__wrapper">
					<div class="info">
						Подробная информация:<br>
						<br>
						Приемная<br>
						пн - пт. с 9:00 - 16:00<br>
						телефон: 8 (8212) 31-15-01<br>
						факс:8 (8212) 31-15-01<br>
						E-mail: syktschool36@gmail.com<br>
					</div>
				</div>

				<div class="spacer"></div>

				<div class="feedback-form">

					<p>Подробности также можно получить, заполнив эту форму:</p>
					<div class="input-textarea__container">
						<div class="input__container">
							<input type="text" placeholder="Имя">
							<input type="text" placeholder="E-mail">
							<input type="text" placeholder="Тема">
						</div>
						<textarea placeholder="Сообщение" maxlength="5000"></textarea>
					</div>

					<div class="btn__container">
						<p class="symbols-left__text">Осталось символов: <span class="symbols-left__number">5000</span></p>
						<a class="btn__send"><p>Отправить</p></a>
					</div>

				</div>

			</div>
			
			<div class="copyright">© 2020 МАОУ "СОШ № 36"</div>

		</footer>

	
	<script>
		
		'use strict';
		
		let nav = document.querySelector('nav');
		let mediaQueryScreenSizeMax1300 = window.matchMedia('(max-width: 1300px)');
		let mediaQueryScreenSizeMax900 = window.matchMedia('(max-width: 900px)');
		let mediaQueryScreenSizeMax755 = window.matchMedia('(max-width: 755px)');
		let mediaQueryScreenSizeMax430 = window.matchMedia('(max-width: 430px)');
		
		let orgNameOriginal = document.querySelector('.text__org-name').innerHTML;
		let orgLocationOriginal = document.querySelector('.text__org-location').innerHTML;
		let orgNameSemiNarrow = 'МАОУ \"СОШ № 36\"';
		let orgNameSuperNarrow = 'СОШ № 36';
		let orgLocationNarrow = 'города Сыктывкара';

		let symbolsToForcedBr = 30;
		addMenuForcedBr(symbolsToForcedBr);	




		// Add <br> tags to long menu items:

		function addMenuForcedBr(maxLength) {

			document.querySelectorAll('.menu a').forEach( (elem) => {

				if (elem.innerHTML.length > maxLength) {
					elem.innerHTML = addStringForcedBr(elem.innerHTML, maxLength);
				}

			} );

			function addStringForcedBr(string, maxLength) {
					
				let result = [];
				let words = string.split(' ');
				let newStr = '';

				while (words.length > 0) {

					let newWord = words.splice(0, 1)[0]; // Splice method changes the origin array!

					if (newWord.length == 0) {
						continue;

					} else if (newWord.length >= maxLength) {
			
						if (newStr) {
							result.push( newStr.slice(0, -1) + '<br>' );
							newStr = '';
							result.push(newWord + '<br>');
						} else {
							result.push(newWord + '<br>');
						}

					} else {
						
						if (newStr.length + newWord.length <= maxLength) {
							newStr += newWord + ' ';
						} else {
							result.push( newStr.slice(0, -1) + '<br>' );
							newStr = newWord + ' ';
						}

					}

				}
				
				if (newStr)	{	result.push( newStr.slice(0, -1) );	}
				result = result.join('');
				
				return result;

			}
			
		}

		// Remove menu <br> tags:

		function removeMenuForcedBr() {

			document.querySelectorAll('.menu a').forEach( (elem) => {

				if (elem.innerHTML.indexOf('<br>') != -1) {
					elem.innerHTML = elem.innerHTML.split('<br>').join(' ');
				}

			} );

		}

		function addMenuArrows() {

			document.querySelectorAll('.menu__item.nested > a').forEach( (elem) => {

				let div = document.createElement('div');
				div.className = 'menu__arrows';
				div.innerHTML = `
			
					<div class="left-arrow">
						<span class="left-bar"></span>
						<span class="right-bar"></span>
					</div>
					<div class="right-arrow">
						<span class="left-bar"></span>
						<span class="right-bar"></span>
					</div>
				
				`;
				elem.appendChild(div);

			} );

		}

		function removeMenuArrows() {

			document.querySelectorAll('.menu__arrows').forEach( (elem) => {
				elem.remove();
			} );

		}






		// Expand/Collapse navigation menu:


		// Basic collapse/expand 'nav' functions:

		function expandNav() {

			document.querySelector('.btn__nav').classList.add('active');

			nav.classList.remove('display-none');
			nav.setAttribute('is-expanded', 'true');

			// 20ms for browser to display Menu and start animation.
			// + Check if the conditions has changed after timeout:
			setTimeout( () => {
				if (nav.getAttribute('is-expanded') === 'true') nav.classList.remove('hidden');
			}, 20 );	
			
			if (mediaQueryScreenSizeMax900.matches) {

				document.querySelector('main').classList.add('faded');
				document.querySelector('footer').classList.add('faded');

				// + Check if the conditions has changed after timeout:
				setTimeout( () => {
					if (mediaQueryScreenSizeMax900.matches && nav.getAttribute('is-expanded') === 'true') {
						document.querySelector('main').classList.add('display-none');
					}
				} , 700 + 300 );
				setTimeout( () => {
					if (mediaQueryScreenSizeMax900.matches && nav.getAttribute('is-expanded') === 'true') {
						document.querySelector('footer').classList.add('display-none');
					}
				} , 700 + 300 );
		
			}

		}
		
		function collapseNav() {

			document.querySelector('.btn__nav').classList.remove('active');

			nav.classList.add('hidden');
			nav.setAttribute('is-expanded', 'false');
			
			if (mediaQueryScreenSizeMax900.matches) {

				document.querySelector('main').classList.remove('display-none');
				document.querySelector('footer').classList.remove('display-none');

				// Animations doesn't run without a timeout (1 ms is not enough for Firefox)
				setTimeout( () => document.querySelector('main').classList.remove('faded'), 10 );
				setTimeout( () => document.querySelector('footer').classList.remove('faded'), 10 );
		
				}

		}
		

		// Variables and rulesets for mobile menu:

		let nestedListsHeights;
		let windowInnerWidth;

		function getNestedListsHeights() {
			
			// Clear the array:
			nestedListsHeights = [];

			Array.from( document.querySelectorAll('.nested-list') ).map( (nestedList) => {
				nestedListsHeights.push(nestedList.offsetHeight);
			} );
				
		}
		
		function setNestedListsHeightNull() {
			
			Array.from( document.querySelectorAll('.nested-list') ).map( (nestedList) => {
				nestedList.style.height = 0;
			} );

		}

		function setNestedListsHeightAuto() {
			
			Array.from( document.querySelectorAll('.nested-list') ).map( (nestedList) => {
				nestedList.style.height = 'auto';
			} );

		}
			
		function mobileMenuClickHandler() {

			// Wait if necessary for already opened item will close before we open a new one;
			let timeout = 0;

			// Check if clicked item already have 'active' class:
			if ( document.querySelectorAll('.menu__item.nested')
				[this.index].classList.contains('active') ) {
				
				// If does, remove it:
				document.querySelectorAll('.menu__item.nested')
					[this.index].classList.remove('active');
				
				// And collapse nested list:
				document.querySelectorAll('.nested-list')[this.index].style.height = 0;

			} else {

				// Check if another item already have 'active' class. If does, remove it: 
				if ( document.querySelector('.menu__item.nested.active') ) {
					
					// Collapse nested list at first (because we are reffering to 'active' class
					// of '.menu__item' which will be removed on the next step):
					document.querySelector('.menu__item.nested.active .nested-list').style.height = 0;

					document.querySelector('.menu__item.nested.active')
						.classList.remove('active');

					// Overlap animation a bit:
					timeout = 500 - 200;

				}

				// Fix missing background color (when we click the item and wait for an other
				// item is closing) background color dissapears):
				document.querySelectorAll('.menu__item.nested')
					[this.index].classList.add('missing-colors-fix');

				// Set clicked item class 'active' (immediately or after already opened item
				// will close):
				setTimeout( () => {

					document.querySelectorAll('.menu__item.nested')
						[this.index].classList.add('active');

					document.querySelectorAll('.nested-list')
						[this.index].style.height = nestedListsHeights[this.index] + 'px';

					// Remove the background-color-fix class:
					document.querySelectorAll('.menu__item.nested')
						[this.index].classList.remove('missing-colors-fix');

				}, timeout );

			}

		}

		function addMobileMenuClickHandler() {
			
			Array.from( document.querySelectorAll('.menu__item.nested > a') )
			.map( (item, index) => {
				
				item.addEventListener('click', mobileMenuClickHandler);
				item.index = index;
				
			} );
			
		}

		function removeMobileMenuClickHandler() {
			
			Array.from( document.querySelectorAll('.menu__item.nested > a') )
			.map( (item, index) => {

				item.removeEventListener('click', mobileMenuClickHandler);

			} );

		}
		
		function resizeMobileMenuHandler() {
			
			// Refresh heights of nested lists only if 'window.innerWidth' changes
			// (otherwise in mobile browsers opened nested lists collapse when we scroll
			// the menu and browser's bars auto appear or disappear):
			if ( !(windowInnerWidth == window.innerWidth) ) {

				// Remove 'active' class. If didn't, list item it will be highlighted green but
				// nested list will be collapsed after window resize.
				if ( document.querySelector('.menu__item.nested.active') ) {
				
					// Remove transition for 200ms:
					nav.classList.add('transition-none');
					setTimeout( () => nav.classList.remove('transition-none'), 200 );

					document.querySelector('.menu__item.nested.active').classList.remove('active');

				}

				// For some reason Chrome works well here without any timeout (proceed testing).
				setNestedListsHeightAuto();
				getNestedListsHeights();
				setNestedListsHeightNull();

			}

			// Log in the window's width to watch if it changing or not:
			windowInnerWidth = window.innerWidth;

		}


		setHeaderOnStart();

		function setHeaderOnStart() {
			
			if (mediaQueryScreenSizeMax430.matches) { // window's smaller than 430px

				document.querySelector('.text__org-name').innerHTML = orgNameSuperNarrow;
				document.querySelector('.text__org-location').innerHTML = orgLocationNarrow;
				
			} else if (mediaQueryScreenSizeMax755.matches) { // window's smaller than 740px

				document.querySelector('.text__org-name').innerHTML = orgNameSemiNarrow;
				document.querySelector('.text__org-location').innerHTML = orgLocationNarrow;

			}

		}



		// Configure menu on start:
				
		setMenuOnStart();
		
		function setMenuOnStart() {
			
			if (mediaQueryScreenSizeMax900.matches) { // window's smaller than 900px

				removeMenuForcedBr();
				addMenuArrows();

				// We do not need this class here because it interferes to set the Nav another
				// value of 'overflow' CSS property
				nav.classList.remove('overflow-hidden');
				nav.classList.remove('display-none'); // this class doesn't affect here

				// Min stable timeout for Chrome is 45ms. Otherwise it returns wrong values.
				// Mobile browsers require much more:
				setTimeout( () => {
					
					getNestedListsHeights();
					setNestedListsHeightNull();
					addMobileMenuClickHandler();
					
				}, 500 );

				// Log in the window's width to watch if it changing or not:
				windowInnerWidth = window.innerWidth;

				window.addEventListener('resize', resizeMobileMenuHandler);

			} else if ( !(mediaQueryScreenSizeMax1300.matches) ) { // window's bigger than 1300px

				expandNav();
				nav.classList.remove('overflow-hidden'); // enable drop-right menu

			}
			
			// Enable navigation menu transitions in 200ms after start ('transition-none'
			// class is set for 'nav' initially in HTML-code):
			setTimeout( () => nav.classList.remove('transition-none'), 200 );
			
		}


		// Add 'click' event on header's buttons:
		
		document.querySelector('.btn__nav').addEventListener('click', () => {
			nav.getAttribute('is-expanded') === 'true' ? collapseNav() : expandNav();
		});

		document.querySelector('.btn__visual').addEventListener('click', (event) => {
			event.currentTarget.classList.toggle('active');
		});




		// Add transition event listeners to start- and end-points of navigation menu
		// transitions. If we just add remove/add '.overflow-hidden' class to expandNav()
		// and collapseNav() functions, overflow starts working wrong with multiple
		// taps on Navigation menu button.

		nav.addEventListener('transitionend', () => {
		
			if ( !(mediaQueryScreenSizeMax900.matches) ) { // window's bigger than 900px

				// Catch the moment when the last OPENING menu animation ends:
				if (event.propertyName === 'width' &&
					nav.getAttribute('is-expanded') === 'true'
				) {
					nav.classList.remove('overflow-hidden'); // enable drop-right menu
				}

				// Catch the moment when the last CLOSING menu animation ends:
				if ( event.propertyName === 'margin-right' &&
					nav.getAttribute('is-expanded') === 'false'
				) {
					nav.classList.add('display-none');
				}

			}

		});

		nav.addEventListener('transitionstart', () => {
			
			if ( !(mediaQueryScreenSizeMax900.matches) ) { // window's bigger than 900px

				if ( event.propertyName === 'width' &&
					nav.getAttribute('is-expanded') === 'false'
				) {
					nav.classList.add('overflow-hidden'); // disable drop-right menu
				}

			}

		});


		// Listeners for Header:

		mediaQueryScreenSizeMax755.addListener( () => {
			
			if (mediaQueryScreenSizeMax755.matches) { // window's getting smaller than 740px
				document.querySelector('.text__org-name').innerHTML = orgNameSemiNarrow;
				document.querySelector('.text__org-location').innerHTML = orgLocationNarrow;

			} else { // window's getting bigger than 740px
				document.querySelector('.text__org-name').innerHTML = orgNameOriginal;
				document.querySelector('.text__org-location').innerHTML = orgLocationOriginal;

			}
		
		});

		mediaQueryScreenSizeMax430.addListener( () => {
			
			if (mediaQueryScreenSizeMax430.matches) { // window's getting smaller than 430px
				document.querySelector('.text__org-name').innerHTML = orgNameSuperNarrow;

			} else { // window's getting bigger than 740px
				document.querySelector('.text__org-name').innerHTML = orgNameSemiNarrow;
			}
		
		});


		// Listeners for Menu:
		
		mediaQueryScreenSizeMax1300.addListener( () => {
			// window's getting smaller than 1300px
			mediaQueryScreenSizeMax1300.matches ? collapseNav() : expandNav();
		});

		// Auto on/off 'body.overflow-hidden' when Nav Menu opens/closes on screens
		// with wide less than 900px:

		mediaQueryScreenSizeMax900.addListener( () => {

			if (mediaQueryScreenSizeMax900.matches) { // window's getting smaller than 900px
			
				removeMenuForcedBr();
				addMenuArrows();

				// We do not need this class here because it interferes to set the Nav another
				// value of 'overflow' CSS property
				nav.classList.remove('overflow-hidden');
				nav.classList.remove('display-none'); // this class doesn't affect here

				if (nav.getAttribute('is-expanded') === 'true') {

					document.querySelector('main').classList.add('faded');
					document.querySelector('footer').classList.add('faded');

					// + Check if the conditions has changed after timeout:
					setTimeout( () => {
					if (mediaQueryScreenSizeMax900.matches && nav.getAttribute('is-expanded') === 'true') {
							document.querySelector('main').classList.add('display-none');
						}
					} , 700 + 300 );
					setTimeout( () => {
						if (mediaQueryScreenSizeMax900.matches && nav.getAttribute('is-expanded') === 'true') {
							document.querySelector('footer').classList.add('display-none');
						}
					} , 700 + 300 );
				
				}

				addMobileMenuClickHandler();
				
				// Chrome works well here without any timeout too.
				setNestedListsHeightAuto();
				getNestedListsHeights();
				setNestedListsHeightNull();

				// Log in the window's width to watch if it changing or not:
				windowInnerWidth = window.innerWidth;
				window.addEventListener('resize', resizeMobileMenuHandler);

			} else { // window's getting bigger than 900px

				removeMenuArrows();
				addMenuForcedBr(symbolsToForcedBr);
				
				if (nav.getAttribute('is-expanded') === 'true') {

					document.querySelector('main').classList.remove('display-none');
					document.querySelector('footer').classList.remove('display-none');

					// Animations doesn't run without a timeout (1 ms is not enough for Firefox)
					setTimeout( () => document.querySelector('main').classList.remove('faded'), 10 );
					setTimeout( () => document.querySelector('footer').classList.remove('faded'), 10 );

				} else {
					nav.classList.add('overflow-hidden'); // restore default value
					nav.classList.add('display-none'); // restore default value
				}
				
				// Remove 'active' class. If didn't, list item it will be highlighted green but
				// nested list will be collapsed after return. It's not brilliant enough.
				if ( document.querySelector('.menu__item.nested.active') ) {
					document.querySelector('.menu__item.nested.active').classList.remove('active');
				}

				removeMobileMenuClickHandler();
				setNestedListsHeightAuto();

				window.removeEventListener('resize', resizeMobileMenuHandler);

			}

			// Remove all transitions for 200ms:
			nav.classList.add('transition-none');
			setTimeout( () => nav.classList.remove('transition-none'), 200 );

		} );




		
		// activates Welcome Slider:

		let currentWelcomePictureIndex = 0;

		activateWelcomeSlider(); // Runs AFTER currentWelcomePictureIndex is declared!

		function activateWelcomeSlider() {

			// Set slider dashes in an amount equal to background pictures: 

			addSliderDashes( document.querySelectorAll('.welcome .img__background').length - 1 );
			
			// Add new div to '.welcome .slider' N-times:
			
			function addSliderDashes(amount) {
				for (let i = 0; i < amount; i++) {
					let div = document.createElement('div');
					div.className = 'dash';
					document.querySelector('.welcome .slider').appendChild(div);
				}
			}

			// Disable welcome pictures transitions on start:

			Array.from(document.querySelectorAll('.welcome .img__background')).map( (img) => {
				img.classList.add('transition-none');
			} );

			// Set random picture on start:
			
			setRandomWelcomePicture(); // Runs AFTER addSliderDashes() initializes slider dashes!

			function setRandomWelcomePicture() {
				
				let randomIndex = Math.floor( Math.random() *
					document.querySelectorAll('.welcome .img__background').length );

				// Remove '.active' class from current dash:
				document.querySelector('.welcome .dash.active').classList.remove('active');
				// Add '.active' class to random dash: 
				document.querySelectorAll('.welcome .dash')[randomIndex].classList.add('active');
				// Remove '.active' class from current background picture:
				document.querySelector('.welcome .img__background.active').classList.remove('active');
				// Add '.active' class to the random picture:
				document.querySelectorAll('.welcome .img__background')[randomIndex].classList.add('active');
				
				// Add random picture index to the global variable:
				currentWelcomePictureIndex = randomIndex;

			}

			// Set auto change timer:

			let timer = setInterval( autoSlide, 13000 ); // Runs AFTER addSliderDashes() initializes slider dashes!

			function autoSlide() {
				
				// Set the index of the next picture:
				let nextPictureIndex = currentWelcomePictureIndex ==
					document.querySelectorAll('.welcome .img__background').length - 1 ?
						0 : currentWelcomePictureIndex + 1;
					
				// Remove '.active' class from current dash:
				document.querySelector('.welcome .dash.active').classList.remove('active');
				// Add '.active' class to the next dash: 
				document.querySelectorAll('.welcome .dash')[nextPictureIndex].classList.add('active');
				// Remove '.active' class from current background picture:
				document.querySelector('.welcome .img__background.active').classList.remove('active');
				// Add '.active' class to the next picture:
				document.querySelectorAll('.welcome .img__background')[nextPictureIndex].classList.add('active');

				// Add next picture index to the global variable:
				currentWelcomePictureIndex = nextPictureIndex;

			}

			// Add '.active' class on clicked dash and the picture with same index:

			Array.from(document.querySelectorAll('.welcome .dash')).map( (dash, index) => {

				dash.addEventListener('click', () => {

					// Remove '.active' class from current dash:
					document.querySelector('.welcome .dash.active').classList.remove('active');
					// Add '.active' class to the dash which was clicked: 
					dash.classList.add('active');
					// Remove '.active' class from current background picture:
					document.querySelector('.welcome .img__background.active').classList.remove('active');
					// Add '.active' class to the picture which index matches the index of the dash which was clicked:
					document.querySelectorAll('.welcome .img__background')[index].classList.add('active');
				
					// Add current picture index to the global variable:
					currentWelcomePictureIndex = index;
					
					// Clear timer after click;
					clearTimeout( timer );
					timer = setInterval( autoSlide, 13000 );

				} )

			} );


			// Enable welcome pictures transitions in 100ms after start:
			setTimeout( () => {

				Array.from(document.querySelectorAll('.welcome .img__background')).map( (img) => {
					img.classList.remove('transition-none');
				} );

			}, 200 );

		}


		
























		// Add "Symbols left" field, auto-expand and auto scroll-down for textarea:

		let textarea = document.querySelector('textarea');
		let symbolsLeftNumber = document.querySelector('.symbols-left__number');
		let symbolsLeftText = document.querySelector('.symbols-left__text');

		textarea.addEventListener('keyup', () => {
			
			if (textarea.scrollTop > 0) {
				
				if ( parseInt( getComputedStyle( textarea ).height ) < 200 ) {
					textarea.style.height = 200 + "px";
					symbolsLeftText.style.opacity = 1;
					scrollDown(105);
				}

			}

		});

		function scrollDown(px) {

			function scroll() {
				window.scrollBy(0,4);
				px--;
				if (px > 0) {
					setTimeout(scroll, 10);
				}
			}

			scroll()
			
		}

		textarea.addEventListener('keyup', () => { 
			symbolsLeftNumber.innerText = 5000 - textarea.value.length;
		});
















		// expandNav();

	</script>
</body>
</html>